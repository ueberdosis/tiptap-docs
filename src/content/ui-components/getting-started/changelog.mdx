# Changelog

All notable changes to this project will be documented in this file.

## [2026-02-10]

### Fixed

- **Toolbar buttons**: Fixed button visibility logic where buttons were incorrectly hidden when `hideWhenUnavailable` was not set. Buttons now always show by default and only hide when `hideWhenUnavailable={true}` and the required extension/schema is unavailable.
- **Link popover**: Added error handling around `setMark("link")` to prevent uncaught exceptions in certain editor states.
- **Turn-into dropdown**: Added missing `!editor.isEditable` guard to prevent showing the dropdown on read-only editors.
- **Heading node**: Fixed `margin-top` removal to properly target first headings and headings preceded by ProseMirror widgets (e.g., decorations, node views).
- **Color highlight**: Switched from `toggleMark("highlight", { color })` to the proper `toggleHighlight({ color })` command for correct toggle behavior.

### Changed

- **CLI auth check on `-c` flag**: The CLI now verifies `.npmrc` authentication when using the `-c` (component) flag, preventing silent failures for unauthenticated users.
- **Auto-generate `scss.d.ts`**: SCSS type declarations are now automatically created whenever a component with SCSS files is installed via the CLI.
- **Nested list styles**: Added style cycling for deeply nested lists (up to 8 levels):
  - Ordered lists: `decimal → lower-alpha → lower-roman → decimal → ...`
  - Unordered lists: `disc → circle → square → disc → ...`
- **Color highlight `useColorValue` prop**: Added support for using raw hex color values instead of CSS variables, enabling highlight compatibility in environments where CSS custom properties aren't available.
- **Heading dropdown menu**: Added support for custom `children` prop, allowing consumers to override the default icon + chevron rendering.
- **Inline images**: Images inside paragraphs now display as `inline-block`.

### Removed

- **Comment page demo**: Removed the `/comments` and `/preview/templates/comments` routes and all associated components.

## [2026-02-03]

- Update CLI version to 3.18.0. Fix `-p` flag for custom paths.

## [2026-01-15]

### Fixed

- Prevent block “turn into” actions from running when multiple blocks are selected, ensuring node toggles only apply to a single selected block.
  update existing code by running `pnpm dlx @tiptap/cli@latest add heading-button blockquote-button list-button text-button code-block-button -o`

## [2026-01-09]

### Added

- Table of Contents (TOC) feature with node preview
- Update CLI version to 3.11.1

## [2026-01-05]

### Added

- Add `resetTextSelectionOnClose` prop to `FloatingElement` to add an option to preserve the current editor selection when the editor loses focus

## [2025-12-15]

### Fixed

- Remove stopEvent from image to fix copy and paste an inline image

## [2025-12-04]

### Added

- Merge adjacent lists on backspace to prevent stuck vertical spacing

---

## Legend

- **Added**: New features
- **Changed**: Changes in existing functionality
- **Deprecated**: Soon-to-be removed features
- **Removed**: Removed features
- **Fixed**: Bug fixes
- **Security**: Security fixes and improvements
