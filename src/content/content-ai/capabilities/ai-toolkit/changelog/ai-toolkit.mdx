---
title: AI Toolkit Changelog
meta:
  title: AI Toolkit Changelog | Tiptap AI Toolkit
  description: Changelog for the @tiptap-pro/ai-toolkit package
  category: Content AI
---

# @tiptap-pro/ai-toolkit

## 3.0.0-alpha.36

### Major Changes

- Makes the insertContent tool independent of the format of the content, by renaming the "html" property to "content".
- Requires upgrading to a version of these provider libraries that is equal or higher than:
  - `@tiptap-pro/ai-toolkit-tool-definitions@3.0.0-alpha.10`
  - `@tiptap-pro/ai-toolkit-ai-sdk@3.0.0-alpha.13`
  - `@tiptap-pro/ai-toolkit-anthropic@3.0.0-alpha.5`
  - `@tiptap-pro/ai-toolkit-langchain@3.0.0-alpha.9`
  - `@tiptap-pro/ai-toolkit-openai@3.0.0-alpha.8`

### Patch Changes

- Fixes bug in insertContent tool where the activeNodeRange is not a valid value for the position.
- Fixes bug where the insertContent tool would cause the activeNodeRange to always reset to 0.
- Fix boundary errors and formatting loss in `setHtmlSuggestions`. Document boundaries now use `content.size` instead of `nodeSize - 1`, and HTML formatting (bold, italic, links) is preserved when applying suggestions.

## 3.0.0-alpha.35

### Patch Changes

- Fix bug where the `streamText` and `streamHtml` methods unnecessarily converted a ReadableStream to an AsyncIterable, making them slower than necessary.

## 3.0.0-alpha.34

### Minor Changes

- Add `changeMergeDistance` option to `diffUtility`, `startComparingDocuments`, `setSuggestions` (compareDocuments format), `setHtmlSuggestions`, and all edit methods' `reviewOptions`. This allows merging nearby changes when comparing documents by specifying the maximum distance (in document positions) between changes to merge them into a single change.
- Add `reviewOptions` parameter to `setHtmlSuggestions` method. Users can now customize suggestion display options (like `diffPosition`, `showAsDiff`, custom `renderDecorations`) and add custom metadata, following the same pattern as other edit methods.
- Fix range offset calculation in `setHtmlSuggestions`. Suggestions now correctly highlight the exact text when no `range` parameter is provided, fixing a bug where positions were incorrectly shifted by -1.
- Fix default `diffPosition` in `setHtmlSuggestions` to use 'after' instead of 'before', and make it configurable through `reviewOptions.displayOptions.diffPosition`.

## 3.0.0-alpha.33

### Minor Changes

- Add `getSelectedSuggestion` method to get the currently selected suggestion.

## 3.0.0-alpha.32

### Minor Changes

- Add `setActiveSelection` method to set the active selection. When set, this range overrides the current editor selection in tools like `readSelection`.

## 3.0.0-alpha.31

### Minor Changes

- Add `commentsOptions` property to `executeTool` and `streamTool` methods. This allows passing custom data to thread and comment operations. The `data` property is used for thread data (in `editor.commands.setThread`), while `commentData` is used for comment data (in `editor.commands.createComment` and `editor.commands.setThread`).

## 3.0.0-alpha.30

### Patch Changes

- Fix a bug where changes in node attributes were not being detected correctly.
- When comparing documents, ignore the changes made by the Unique ID extension.
- When comparing documents, ignore the changes made by the Comments extension.

## 3.0.0-alpha.29

### Minor Changes

- Add `setHtmlSuggestions` method to display suggestions by comparing HTML content with the current document

## 3.0.0-alpha.28

### Patch Changes

- Fix incorrect import in library code that caused bundler to fail.

## 3.0.0-alpha.27

### Patch Changes

- Fix issue in `createThread` operation where the thread was sometimes created in the wrong position.
- Improve error messages that the AI receives when a `createThread` operation fails.

## 3.0.0-alpha.26

### Major Changes

- Add new `editThreads` and `getThreads` tools for AI-powered comment and thread management
- Requires upgrading to a version of these provider libraries that is equal or higher than:
  - `@tiptap-pro/ai-toolkit-tool-definitions@3.0.0-alpha.9`
  - `@tiptap-pro/ai-toolkit-ai-sdk@3.0.0-alpha.12`
  - `@tiptap-pro/ai-toolkit-anthropic@3.0.0-alpha.4`
  - `@tiptap-pro/ai-toolkit-langchain@3.0.0-alpha.8`
  - `@tiptap-pro/ai-toolkit-openai@3.0.0-alpha.7`

## 3.0.0-alpha.25

### Patch Changes

- Fix issue (regression) in `applyPatch` tool where the last operation was not being parsed correctly when streaming. This caused the text to gradually disappear during streaming.

## 3.0.0-alpha.24

### Major Changes

- Rename `applyDiff` tool to `applyPatch`
- Rename `applyHtmlDiff` method to `applyHtmlPatch`.
- Improve format and tool definition of the `applyDiff` tool (now called `applyPatch`) so that the AI generates a list of patch operations. This improves accuracy (because the AI is not tempted to do unnecessary jumps) and reduces token usage significantly
- Requires upgrading to a version of these provider libraries that is equal or higher than:
  - `@tiptap-pro/ai-toolkit-tool-definitions@3.0.0-alpha.8`
  - `@tiptap-pro/ai-toolkit-ai-sdk@3.0.0-alpha.11`
  - `@tiptap-pro/ai-toolkit-langchain@3.0.0-alpha.7`
  - `@tiptap-pro/ai-toolkit-openai@3.0.0-alpha.6`
  - `@tiptap-pro/ai-toolkit-anthropic@3.0.0-alpha.3`

## 3.0.0-alpha.23

### Minor Changes

- Add `activeNodeRange` position to the `insertContent` tool to allow the AI to insert content at the active node range. This improves the accuracy of the edits when the `applyDiff` tool is disabled.
- Requires upgrading to a version of these provider libraries that is equal or higher than:
  - `@tiptap-pro/ai-toolkit-tool-definitions@3.0.0-alpha.7`
  - `@tiptap-pro/ai-toolkit-ai-sdk@3.0.0-alpha.10`
  - `@tiptap-pro/ai-toolkit-langchain@3.0.0-alpha.6`
  - `@tiptap-pro/ai-toolkit-openai@3.0.0-alpha.5`
  - `@tiptap-pro/ai-toolkit-anthropic@3.0.0-alpha.2`

## 3.0.0-alpha.22

### Minor Changes

- Add `addHtmlSchemaAwareness` method to the extension configuration to provide the schema awareness data of a custom Node or Mark extension.

## 3.0.0-alpha.21

### Patch Changes

- Fix issue where the detailed diff was shown during streaming, which caused the diff to constantly update. Now, the detailed diff is only shown when the streaming is finished.
- Fix issue that caused extra paragraphs to be inserted during streaming, at the beginning of the streamed content.

## 3.0.0-alpha.20

### Major Changes

- Rename `getSchemaAwareness` method to `getHtmlSchemaAwareness`
- Improve the prompt generated by the schema awareness methods to be more accurate for the AI models

## 3.0.0-alpha.19

### Minor Changes

- Experimental implementation of the AI Toolkit + Pages extension integration. Introduces the `readPage` tool.

## 3.0.0-alpha.18

### Patch Changes

- Make `streamHtml` and `streamText` methods return a promise that resolves when the stream is finished

## 3.0.0-alpha.17

### Major Changes

- Improve tool definitions of `readSelection` and `insertContent` tools to fix a bug where the AI inserts the content in the wrong place if the user changes the selection after the AI reads the selection.

### Patch Changes

- Fix issue in `streamHtml` and `streamText` methods where a `ReadableStream` was not accepted as a parameter

## 3.0.0-alpha.16

### Major Changes

- Renamed `detailedDiff` to `diffMode` in review options to control how to display the difference between the original and the modified content

## 3.0.0-alpha.15

### Major Changes

- Add `detailedDiff` option to review options to control whether to display the change as a detailed diff. Rename `showDiff` option to `detailedDiff` for clarity
- Add `detailedDiff` option to tool execution and streaming options to control whether to display the change as a detailed diff, and set it to `true` by default so that the changes are displayed as a detailed diff by default

## 3.0.0-alpha.14

### Major Changes

- Requires upgrading to a version of these provider libraries that is equal or higher than:
  - `@tiptap-pro/ai-toolkit-tool-definitions@3.0.0-alpha.4`
  - `@tiptap-pro/ai-toolkit-ai-sdk@3.0.0-alpha.7`
  - `@tiptap-pro/ai-toolkit-langchain@3.0.0-alpha.3`
  - `@tiptap-pro/ai-toolkit-openai@3.0.0-alpha.2`
- Remove `currentChunk` parameter and return value from the `executeTool` method
  - The `executeTool` method no longer accepts `currentChunk` parameter
  - The `executeTool` method no longer returns `currentChunk` field
- Add `getActiveNodeRange` method to get the active node range. The active node range is the range of top-level nodes that can be edited in the next tool call, it helps the AI make more precise edits when editing the document with the `applyDiff` tool. It replaces the `currentChunk` parameter.
- Add `setActiveNodeRange` method to set the active node range
- Remove tools `readFirstChunk`, `readNextChunk` and `readPreviousChunk`.
- Add `readNodeRange` tool. This tool allows the AI to read any range of top-level nodes in the document. It is much more flexible than the previous chunk-based reading tools.

### Minor Changes

- Add `streamTool` method to stream a tool call into the editor

## 3.0.0-alpha.13

### Minor Changes

- Add `metadata` option to review options to add custom metadata and properties to the suggestions that are generated during review mode
- Add `streamText` and `streamHtml` methods to stream text and HTML content into the editor

### Patch Changes

- Fix issue in `insertJson` where it did not support Tiptap JSON of a ProseMirror Fragment
- Fix issue in suggestions diff view where extra elements like paragraphs were displayed in the suggestion diff content

## 3.0.0-alpha.12

### Patch Changes

- Show a warning when `getAiToolkit` is called but the Editor does not have the AiToolkit extension
- Fix issue in `getJsonChunks` where the JSON chunks were not being returned in the correct format
- Improve `readFirstChunk` tool response format

## 3.0.0-alpha.11

### Patch Changes

- Fix issue in `diffUtility` where identical empty documents were considered different

## 3.0.0-alpha.10

### Major Changes

- Add `replaceDocumentWhereChanged` method to replace the entire document in an efficient way, so that not all the document is marked as replaced, but only the parts of the document that have changed
- Re-implement `applyHtmlDiff` and `rejectAllChanges` methods to use `replaceDocumentWhereChanged`

## 3.0.0-alpha.9

### Major Changes

- Add `rejectAllChanges` method to reject all changes when comparing documents in real-time

## 3.0.0-alpha.8

### Major Changes

- Add `acceptChange` and `rejectChange` methods to accept and reject changes when comparing documents in real-time
- Remove `applySuggestionToOtherDoc` method because it's equivalent to `acceptChange` but with a more confusing name

## 3.0.0-alpha.7

### Major Changes

- Improved chunk format: now it includes the range of the chunk in the document
- Improve accuracy of `getHtmlRange`, `getJsonRange`, and `getTextRange` methods when returning the chunk index

## 3.0.0-alpha.6

### Patch Changes

- Fix issue with incorrect import

## 3.0.0-alpha.5

### Minor Changes

- Add `applySuggestionToOtherDoc` method to apply a suggestion to the other document when comparing documents in real-time
- Ignore the debounce timeout on the first run of `startComparingDocuments` so that the suggestions show up immediately and the app feels responsive

## 3.0.0-alpha.4

### Major Changes

- Remove `needsReview` option from return type of `executeTool` and use `docChanged` instead
- The `docChanged` option is now `true` when the tool call modifies the document

## 3.0.0-alpha.3

### Minor Changes

- Add `needsReview` option to return type of `executeTool` to know when the tool call needs user review
- Add `applyAllSuggestions` method to apply all suggestions at once
- Improve error messages when tool calls fail

## 3.1.0-alpha.2

### Patch Changes

- Fix types of `input` parameter in the `executeTool` method parameters so that it is compatible with the AI SDK by Vercel

## 3.1.0-alpha.1

### Major changes

- Initial alpha release of the AI Toolkit
