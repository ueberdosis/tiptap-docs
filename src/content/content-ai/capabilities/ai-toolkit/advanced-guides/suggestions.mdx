---
title: Suggestions
meta:
  title: Suggestions | Tiptap Content AI
  description: Generate suggestions with the AI Toolkit.
  category: Content AI
---

When the AI makes changes to the document, you can display them as [suggestions](/content-ai/capabilities/ai-toolkit/api-reference/display-suggestions). This way, the user can review the changes and accept or reject them.

## What are suggestions?

A suggestion is a proposed change to the document. Every `Suggestion` object has these properties:

- `id` (`string`): A unique identifier for the suggestion.
- `range` (`Range`): This is the position of the suggestion. It has a `from` property (the place where the suggestion starts) and a `to` property (the place where the suggestion ends). Learn more about ranges in the [Concepts guide](/content-ai/capabilities/ai-toolkit/advanced-guides/concepts).
- The content that the AI suggests inserting into that `range`. This content is stored in the `replacementOptions` property.

See all the properties of the `Suggestion` object in the [API reference](/content-ai/capabilities/ai-toolkit/api-reference/display-suggestions).

## Two types of suggestions

There are two types of suggestions:

- **Preview mode**: When the change is previewed before applying it. The document is not modified until the user accepts the suggestion.
- **Review mode**: When the change is reviewed after applying it. The document has already been modified and the suggestion allows the user to undo the change.

## How to generate suggestions?

Suggestions are generated when you call a method of the AI Toolkit that edits the document (see the [API reference](/content-ai/capabilities/ai-toolkit/api-reference)).

These methods can be configured in three different ways:

### Option 1: Update the document directly

The default behaviour of AI Toolkit methods is to edit the document directly and not generate any suggestions.

```ts
toolkit.executeTool({
  toolName: 'tiptapEdit',
  input: {},
  // No reviewOptions property
})
```

### Option 2: Generate suggestions before editing the document

This approach does not modify the document and generates suggestions in **preview mode**.

The document is edited only if the user accepts the suggestions.

```ts
toolkit.executeTool({
  toolName: 'tiptapEdit',
  input: {},
  reviewOptions: { mode: 'preview' },
})
```

### Option 3: Generate suggestions after editing the document

This approach modifies the document directly and generates suggestions in **review mode**. These suggestions allow the user to undo the change by applying the suggestion.

```ts
toolkit.executeTool({
  toolName: 'tiptapEdit',
  input: {},
  reviewOptions: { mode: 'review' },
})
```

## Diff modes

Suggestions are generated by comparing the document before and after the change.

You can configure how the comparison is performed with the `diffUtilityConfig` property of the `reviewOptions` object.

This allows you to compare changes character by character or block by block.

```ts
toolkit.executeTool({
  toolName: 'tiptapEdit',
  input: {},
  reviewOptions: {
    mode: 'review',
    diffUtilityConfig: { mode: 'block' },
  },
})
```

There are five diff modes:

- `smart` (default): Tree-aware diff using A\* pathfinding. Aligns block nodes optimally, then uses character-level diff for inline content and recursive tree diff for nested blocks. Changes never cut across block boundaries.
- `inline`: Shows precise character-level changes within text.
- `block`: Groups changes by paragraphs and headings, instead of individual characters.
- `smartInline` (deprecated, use `smart`): Combines block-level and inline-level comparison by diffing changed blocks inline.
- `smartInlineV2` (deprecated, use `smart`): Improves on `smartInline` mode by handling block elements (like tables) correctly.

The diff utility has other options, learn about them in the [API reference](/content-ai/capabilities/ai-toolkit/api-reference/diff-utility).

## Accepting and rejecting suggestions

You can accept and reject suggestions by calling the `acceptSuggestion` and `rejectSuggestion` methods.

```ts
toolkit.acceptSuggestion('suggestion-1')
toolkit.rejectSuggestion('suggestion-1')
```

These methods return AI feedback that you can collect and send to the AI to improve future suggestions.

```ts
const result = toolkit.acceptSuggestion('suggestion-1')
// result.aiFeedback.events
```

You can also accept and reject all suggestions at once by calling the `acceptAllSuggestions` and `rejectAllSuggestions` methods.

Suggestions can also be read and updated programmatically. See the [API reference](/content-ai/capabilities/ai-toolkit/api-reference/display-suggestions) for all available methods.

## Next steps

- Learn how to [style suggestions](/content-ai/capabilities/ai-toolkit/advanced-guides/style-suggestions) with the AI Toolkit.
