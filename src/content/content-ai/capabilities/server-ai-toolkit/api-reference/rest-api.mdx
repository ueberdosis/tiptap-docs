---
title: REST API
meta:
  title: REST API | Tiptap Server AI Toolkit
  description: Complete reference for the Server AI Toolkit REST API endpoints.
  category: Content AI
---

import { Callout } from '@/components/ui/Callout'

The Server AI Toolkit provides REST API endpoints for getting tool definitions and executing tools on Tiptap documents.

## Authentication

All API requests require authentication. Generate a JWT (JSON Web Token) using the `secret key` from your Tiptap Cloud account. Include this JWT in the `Authorization` header as a Bearer token, and include your App ID in the `X-App-Id` header.

Get your App ID and secret key on the [Server AI Toolkit settings](https://cloud.tiptap.dev/v2/cloud/ai) page.

For production, always create JWTs **server-side** to keep your secret safe.

```curl
--header 'Authorization: Bearer YOUR_JWT_TOKEN' \
--header 'X-App-Id: YOUR_APP_ID'
```

<Callout title="TODO POSTMAN COLLECTION LINK" variant="info">
  A Postman collection for testing the Server AI Toolkit API will be available soon.
</Callout>

## Base URL

Replace `API_BASE_URL` with the base URL provided by Tiptap. The base URL will be in the format:

```
https://api.tiptap.dev
```

## Get tool definitions

Call this endpoint to get the available tool definitions for the Server AI Toolkit.

### Endpoint

```
POST /v2/toolkit/tools
```

### Request

```curl
curl --location 'API_BASE_URL/v2/toolkit/tools' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer YOUR_JWT_TOKEN' \
--header 'X-App-Id: YOUR_APP_ID' \
--data '{
    "schemaAwarenessData": { /* schema awareness data from getSchemaAwarenessData */ }
}'
```

### Request body

- `schemaAwarenessData` (`SchemaAwarenessData`, required): The schema awareness data obtained from `getSchemaAwarenessData`. This data describes the document structure for the Server AI Toolkit API.

### Response

Returns an array of tool definitions. Each tool definition includes:

- `name` (`string`): The name of the tool (e.g., `"tiptapRead"`, `"tiptapEdit"`)
- `description` (`string`): A description of what the tool does
- `inputSchema` (`object`): The JSON schema for the tool's input parameters

### Example response

```json
[
  {
    "name": "tiptapRead",
    "description": "Tool description",
    "inputSchema": { /* JSON schema for tool input */ }
  },
  {
    "name": "tiptapEdit",
    "description": "Tool description",
    "inputSchema": { /* JSON schema for tool input */ }
  }
]
```

## Execute a tool

Call this endpoint to execute a tool on a Tiptap document.

### Endpoint

```
POST /v2/toolkit/execute
```

### Request

```curl
curl --location 'API_BASE_URL/v2/toolkit/execute' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer YOUR_JWT_TOKEN' \
--header 'X-App-Id: YOUR_APP_ID' \
--data '{
    "toolName": "tiptapRead",
    "input": { /* tool input as defined by the tool schema */ },
    "document": { /* Tiptap JSON document */ },
    "schemaAwarenessData": { /* schema awareness data from getSchemaAwarenessData */ },
    "chunkSize": 1000
}'
```

### Request body

- `toolName` (`string`, required): The name of the tool to execute. Must be one of:
  - `"tiptapRead"`: Read part of the document using an efficient format
  - `"tiptapEdit"`: Edit the document using an efficient format
- `input` (`object`, required): The input parameters for the tool, as defined by the tool's input schema. The input format is optimized for efficient reading and editing operations.
- `document` (`object`, required): The Tiptap JSON document to operate on
- `schemaAwarenessData` (`SchemaAwarenessData`, required): The schema awareness data obtained from `getSchemaAwarenessData`
- `chunkSize?` (`number`, optional): The chunk size for reading operations. Default: `1000`

### Response

Returns the result of the tool execution:

- `output` (`any`): The output of the tool execution. The output format is optimized for efficient reading and editing operations.
- `structuredOutput?` (`any`): Structured output if available
- `hasError` (`boolean`): Whether an error occurred during execution
- `unknownTool` (`boolean`): Whether the tool name was not recognized
- `docChanged` (`boolean`): Whether the document was modified
- `document?` (`object`): The updated Tiptap JSON document (only present if `docChanged` is `true`)

## Error handling

If an error occurs, the API will return an error response with an appropriate HTTP status code:

- `400 Bad Request`: Invalid request body or parameters
- `401 Unauthorized`: Missing or invalid JWT token or App ID
- `404 Not Found`: Tool not found (if `unknownTool` is `true`)
- `500 Internal Server Error`: Server error during tool execution

### Error response format

```json
{
  "error": "Error message",
  "hasError": true
}
```
