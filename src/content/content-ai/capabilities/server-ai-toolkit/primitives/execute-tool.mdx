---
title: Execute tool
meta:
  title: Execute tool | Tiptap Content AI
  description: Execute AI agent tool calls to read and edit documents on the server.
  category: Content AI
---

Execute AI agent tool calls that read and edit documents. The toolkit handles validation, position mapping, and error handling automatically.

## `executeTool`

Execute a tool call using the Server AI Toolkit methods.

### Parameters (`ExecuteToolOptions`)

- `toolName` (`string`): The name of the tool to execute
- `input` (`unknown`): Arguments to pass to the tool. The structure depends on the specific tool being executed.

Learn more about [available tools](/content-ai/capabilities/server-ai-toolkit/tools/available-tools).

### Returns (`Promise<ExecuteToolResult>`)

- `output` (`string`): Result of tool execution as a JSON string
- `hasError` (`boolean`): Whether the tool execution encountered an error
- `unknownTool` (`boolean`): Whether the tool name is unknown
- `docChanged` (`boolean`): Whether the document was modified

### Example

```typescript
const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  storage: new TiptapCloudStorage({
    documentIdentifier: 'my-document',
    appId: process.env.TIPTAP_CLOUD_APP_ID,
    apiSecret: process.env.REST_API_SECRET,
  }),
})

// Execute a tool call
const result = await toolkit.executeTool({
  toolName: 'tiptapReadV1',
  input: { from: 0 },
})

console.log(JSON.parse(result.output))
// Tool-specific output structure
```

## Error Handling

The toolkit validates content against the schema and returns detailed error messages:

```typescript
const result = await toolkit.executeTool({
  toolName: 'tiptapReadV1',
  input: toolCallInput,
})

if (result.hasError) {
  const errorData = JSON.parse(result.output)
  console.error(errorData)
  // Tool-specific error structure
}
```

## With AI Frameworks

Use with Vercel AI SDK:

```typescript
import { streamText } from 'ai'
import { openai } from '@ai-sdk/openai'

const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  storage,
  tools: serverToolDefinitions(),
})

const result = streamText({
  model: openai('gpt-5.1'),
  system: `You are an assistant that can edit rich text documents.
${toolkit.getSchemaAwarenessPrompt()}`,
  messages,
  tools: toolkit.getTools(),
})
```

The AI framework automatically calls `executeTool` when the model generates tool calls.
