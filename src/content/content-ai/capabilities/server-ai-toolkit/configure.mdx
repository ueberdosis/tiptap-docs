---
title: Configure
meta:
  title: Configure Server AI Toolkit | Tiptap Content AI
  description: Configuration options for the Server AI Toolkit. Learn how to customize the toolkit behavior.
  category: Content AI
---

The Server AI Toolkit accepts configuration options through the `getServerAiToolkit` function.

## `ServerAiToolkitOptions`

```typescript
interface ServerAiToolkitOptions<TTools> {
  document?: JsonNode | null
  storage?: ServerAiToolkitStorage | null
  schemaAwarenessData: JsonSchemaAwarenessData
  tools?: (aiToolkit: ServerAiToolkit<TTools>) => TTools
  chunkSize?: number
}
```

### `schemaAwarenessData` (required)

Schema awareness data from a Tiptap editor instance. Get this data using `getAiToolkit(editor).getJsonSchemaAwarenessData()` on the client-side or server-side.

```typescript
// Client-side
const schemaAwarenessData = getAiToolkit(editor).getJsonSchemaAwarenessData()

// Pass to server
const toolkit = getServerAiToolkit({
  schemaAwarenessData,
})
```

### `document`

Initial document content as Tiptap JSON. If not provided, an empty document is created.

```typescript
const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  document: {
    type: 'doc',
    content: [{ type: 'paragraph', content: [{ type: 'text', text: 'Initial content' }] }],
  },
})
```

Default: `null` (creates an empty document)

### `storage`

Storage backend for loading and saving documents. Can be `TiptapCloudStorage` or a custom implementation of `ServerAiToolkitStorage`.

```typescript
import { TiptapCloudStorage } from '@tiptap-pro/ai-toolkit/server-ai-toolkit'

const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  storage: new TiptapCloudStorage({
    documentIdentifier: 'my-document',
    appId: process.env.TIPTAP_CLOUD_APP_ID,
    apiSecret: process.env.REST_API_SECRET,
  }),
})
```

Default: `null` (no persistence)

See the [storage guide](/content-ai/capabilities/server-ai-toolkit/guides/storage) for more information.

### `tools`

Function that returns tool definitions for your AI framework. The function receives the Server AI Toolkit instance as a parameter.

```typescript
import { serverToolDefinitions } from '@tiptap-pro/ai-toolkit-ai-sdk'

const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  tools: serverToolDefinitions(),
})

// Get the tools
const tools = toolkit.getTools()
```

Default: `() => null`

See the [tools documentation](/content-ai/capabilities/server-ai-toolkit/tools/available-tools) for more information.

### `chunkSize`

Maximum size of a string that can be passed as input to the AI model. Prevents the AI from reading too much content at once so that the context window of the AI model is not exceeded.

```typescript
const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  chunkSize: 16000, // 4000 tokens * 4 characters per token
})
```

Default: `32000` (8000 tokens \* 4 characters per token)

## Example: Full configuration

```typescript
import { getServerAiToolkit, TiptapCloudStorage } from '@tiptap-pro/ai-toolkit/server-ai-toolkit'
import { serverToolDefinitions } from '@tiptap-pro/ai-toolkit-ai-sdk'

const toolkit = getServerAiToolkit({
  // Required: schema awareness data from the editor
  schemaAwarenessData,

  // Optional: initial document content
  document: {
    type: 'doc',
    content: [{ type: 'paragraph', content: [{ type: 'text', text: 'Initial content' }] }],
  },

  // Optional: storage backend
  storage: new TiptapCloudStorage({
    documentIdentifier: 'my-document',
    appId: process.env.TIPTAP_CLOUD_APP_ID,
    apiSecret: process.env.REST_API_SECRET,
  }),

  // Optional: tool definitions
  tools: serverToolDefinitions({
    tools: {
      tiptapRead: true,
      tiptapEdit: true,
    },
  }),

  // Optional: chunk size
  chunkSize: 32000,
})
```
