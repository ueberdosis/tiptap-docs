---
title: AI SDK - AI agent tools
meta:
  title: AI SDK - AI agent tools | Tiptap Content AI
  description: Use tool definitions for the AI SDK by Vercel to let AI agents read and edit Tiptap documents on the server.
  category: Content AI
---

import { Callout } from '@/components/ui/Callout'

The `@tiptap-pro/ai-toolkit-ai-sdk` package provides server tool definitions you can add to your AI agent built with the [AI SDK by Vercel](https://ai-sdk.dev/).

The tool calls generated by the model are automatically executed by the Server AI Toolkit.

## Example usage

Install the package:

```bash
npm install @tiptap-pro/ai-toolkit-ai-sdk
```

Supply the tool definitions to the `tools` parameter of the `generateText` or `streamText` functions:

```typescript
import { anthropic } from '@ai-sdk/anthropic'
import { streamText } from 'ai'
import { getServerAiToolkit, TiptapCloudStorage } from '@tiptap-pro/server-ai-toolkit'
import { serverToolDefinitions } from '@tiptap-pro/ai-toolkit-ai-sdk'

const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  storage: new TiptapCloudStorage({
    documentIdentifier: 'my-document',
    appId: process.env.TIPTAP_CLOUD_APP_ID,
    apiSecret: process.env.REST_API_SECRET,
  }),
  tools: serverToolDefinitions(),
})

const result = streamText({
  model: anthropic('claude-haiku-4-5-20251001'),
  system: `You are an assistant that can edit rich text documents.
${toolkit.getSchemaAwarenessPrompt()}`,
  messages,
  tools: toolkit.getTools(),
})
```

Combine the tool definitions with your custom tools:

```typescript
import { anthropic } from '@ai-sdk/anthropic'
import { streamText, tool } from 'ai'
import { serverToolDefinitions } from '@tiptap-pro/ai-toolkit-ai-sdk'
import { z } from 'zod'

const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  storage,
  tools: (serverAiToolkit) => ({
    // Server AI Toolkit tools
    ...serverToolDefinitions()(serverAiToolkit),
    // Custom weather tool
    weather: tool({
      description: 'Get the weather in a location',
      inputSchema: z.object({
        location: z.string(),
      }),
      execute: async () => ({
        temperature: 72,
      }),
    }),
  }),
})

const result = streamText({
  model: anthropic('claude-haiku-4-5-20251001'),
  system: `You are an assistant that can edit rich text documents.
${toolkit.getSchemaAwarenessPrompt()}`,
  messages,
  tools: toolkit.getTools(),
})
```

<Callout title="Type error with Zod 3" variant="warning">
  If your app uses version 3 of the [Zod validation library](https://zod.dev/), you might get a type
  error when you pass the tool definitions to the `tools` parameter of the `generateText` or
  `streamText` functions. You can fix it by upgrading to Zod 4 or by type casting the tool
  definitions to the `ToolSet` type of the AI SDK.
</Callout>

## API reference

### `serverToolDefinitions`

Creates server tool definitions for the Tiptap AI Toolkit compatible with [Vercel AI SDK](https://ai-sdk.dev/).

#### Parameters (`ServerToolDefinitionsOptions`)

- `tools?`: `ServerEnabledTools` - Enable/disable specific tools by setting the value to `true` (enabled) or `false` (disabled).
  - `tiptapRead?`: `boolean` - Enable/disable the `tiptapRead` tool (default: `true`)
  - `tiptapEdit?`: `boolean` - Enable/disable the `tiptapEdit` tool (default: `true`)

#### Returns

A function that accepts a `ServerAiToolkit` instance and returns an object containing the enabled tool definitions that can be used with the [Vercel AI SDK](https://ai-sdk.dev/)'s tool calling system. The returned object includes:

- `tiptapRead` - Tool for reading nodes from the document
- `tiptapEdit` - Tool for editing nodes in the document

#### Example

```typescript
import { serverToolDefinitions } from '@tiptap-pro/ai-toolkit-ai-sdk'

// Use all tools (default)
const toolkit = getServerAiToolkit({
  schemaAwarenessData,
  tools: serverToolDefinitions(),
})

// Disable specific tools
const limitedToolkit = getServerAiToolkit({
  schemaAwarenessData,
  tools: serverToolDefinitions({
    tools: {
      tiptapEdit: false, // Disable editing
    },
  }),
})
```
